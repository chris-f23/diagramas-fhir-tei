---
config:
  layout: elk
  theme: base
  class:
    hideEmptyMembersBox: true
  themeVariables:
    primaryBorderColor: "#000000"
    primaryColor: "#C9E6F0"
---

classDiagram
direction LR

class Profesional {
  id: UUID
  rut: VARCHAR
  %% Codigo identificador en Registro Nacional de Prestadores Individuales, opcional.
  codigoRNPI: VARCHAR NULL

  nombre: VARCHAR
  apellidoPaterno: VARCHAR
  apellidoMaterno: VARCHAR NULL

  fechaNacimiento: DATE
}

class TituloProfesional {
  %% Su contenido es un array de strings
  menciones: JSON NULL

  descripcion: VARCHAR
  fechaEmision: DATETIME NULL
  fechaCaducidad: DATETIME NULL
  entidadEmisora: VARCHAR
}

class CodigoTipoProfesional { <<ValueSet>> }

class EspecialidadProfesional {
  descripcion: VARCHAR
  fechaEmision: DATETIME NULL
  fechaCaducidad: DATETIME NULL
  entidadEmisora: VARCHAR NULL
}

class TipoEspecialidadProfesional {
  <<Enum>>
  ESPECIALIDAD
  SUBESPECIALIDAD
  ODONTOLOGICA
  FARMACOLOGICA
  BIOQUIMICA
}


class CodigoEspecialidadProfesional { <<ValueSet>> }

class CodigoEspecialidadBioquimica { <<ValueSet>> }

class CodigoEspecialidadFarmaceutica { <<ValueSet>> }

class CodigoEspecialidadMedica { <<ValueSet>> }
class Domicilio {
  id : UUID
  direccion: VARCHAR
  uso: 'CASA' | 'TRABAJO' | 'TEMPORAL'
}

class CodigoPais { <<ValueSet>> }

class CodigoRegion { <<ValueSet>> }

class CodigoProvincia { <<ValueSet>> }
class CodigoComuna { <<ValueSet>> }

class MedioContacto {
  id: UUID
  tipo: 'CORREO' | 'TELEFONO'
  uso: 'CASA' | 'TRABAJO' | 'TEMPORAL'
  valor: VARCHAR
  ordenPreferencia: INTEGER
}
class CodigoGeneroAdministrativo { <<ValueSet>> }

class Nacionalidad { <<ValueSet>> }
class IdentidadGenero { <<ValueSet>> }
Domicilio --> "0..1" CodigoPais
Domicilio --> "0..1" CodigoRegion
Domicilio --> "0..1" CodigoProvincia
Domicilio --> "0..1" CodigoComuna
Profesional --> "0..1" Domicilio


Profesional --> "1..*" TituloProfesional
TituloProfesional --> "1" CodigoTipoProfesional
EspecialidadProfesional --> "1" CodigoEspecialidadProfesional
EspecialidadProfesional --> "1" TipoEspecialidadProfesional
CodigoEspecialidadProfesional <|-- CodigoEspecialidadMedica
CodigoEspecialidadProfesional <|-- CodigoEspecialidadBioquimica
CodigoEspecialidadProfesional <|-- CodigoEspecialidadFarmaceutica
Profesional --> "*" EspecialidadProfesional
CodigoEspecialidadProfesional --> "1" TipoEspecialidadProfesional
Profesional --> "0..1" IdentidadGenero
Profesional --> "*" MedioContacto
Profesional --> "0..1" CodigoGeneroAdministrativo
Profesional --> "0..1" Nacionalidad

link Profesional "https://build.fhir.org/ig/Minsal-CL/SIGTEv2-IG/StructureDefinition-PractitionerProfesionalLE.html"
link CodigoTipoProfesional "https://build.fhir.org/ig/Minsal-CL/SIGTEv2-IG/ValueSet-VSTituloProfesional.html"
link CodigoEspecialidadBioquimica "https://build.fhir.org/ig/Minsal-CL/SIGTEv2-IG/ValueSet-VSEspecialidadBioqca.html"
link CodigoEspecialidadFarmaceutica "https://build.fhir.org/ig/Minsal-CL/SIGTEv2-IG/ValueSet-VSEspecialidadFarmaceutica.html"
link CodigoEspecialidadMedica "https://build.fhir.org/ig/Minsal-CL/SIGTEv2-IG/ValueSet-VSEspecialidadMed.html"
link CodigoRegion "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-VSCodigosRegionesCL.html"
link CodigoPais "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-CodPais.html"
link CodigoProvincia "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-VSCodigosProvinciasCL.html"
link CodigoComuna "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-VSCodigosComunaCL.html"
link Nacionalidad "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-CodPais.html"
link CodigoGeneroAdministrativo "https://hl7.org/fhir/R4/valueset-administrative-gender.html"
link IdentidadGenero "https://hl7chile.cl/fhir/ig/clcore/1.9.2/ValueSet-VSIdentidaddeGenero.html"

style CodigoRegion fill:#FFE6A5
style CodigoPais fill:#FFE6A5
style CodigoProvincia fill:#FFE6A5
style CodigoComuna fill:#FFE6A5
style CodigoTipoProfesional fill:#FFE6A5
style TipoEspecialidadProfesional fill:#FFE6A5
style CodigoEspecialidadProfesional fill:#FFE6A5,stroke-dasharray: 5 5
style CodigoEspecialidadBioquimica fill:#FFE6A5
style CodigoEspecialidadFarmaceutica fill:#FFE6A5
style CodigoEspecialidadMedica fill:#FFE6A5
style Nacionalidad fill:#FFE6A5
style CodigoGeneroAdministrativo fill:#FFE6A5
style IdentidadGenero fill:#FFE6A5
